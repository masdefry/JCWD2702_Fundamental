<script>
    /*
        1. Main Menu: 1. Search Products 2. Sort Products 3. Update 4. Logout
        Search Products: 
            - Prompt(Input Product Name)
            - Searching
            - Show Result
        Sort Products:
            - Prompt(ASC/DESC)
            - Prompt(Sort By: 1. Name or 2. Price)
            - Sorting By Prompt 2
            - Show Result
        Update Product:
            - Prompt(Show List Product-Input Product to Update)
            - Prompt(Update By: 1. Name or 2. Price)
            - Update Data
            - Show Result
    */
    function ShowResult(productsBackup){
        let result = ''
        for(let item of productsBackup){
            result += `${item.name} = Rp.${item.price.toLocaleString('id-ID')} \n`
        }
        return result
    }

    const products = [
        { id: 1, name: 'Wortel', price: 10000 },
        { id: 2, name: 'Kangkung', price: 3000 },
        { id: 3, name: 'Tomat', price: 7000 }
    ]

   do{
        var selectedMenu = prompt('Input Menu: 1. Search Product \n 2. Sort Product \n 3. Update Product \n 4. Delete Product')

        if(selectedMenu == 1){
            // Menu-01
            let productName = prompt('Input Product Name:') // Wortel

            for(let item of products){
                if(item.name === productName){
                    alert(`${item.name} = Rp.${item.price.toLocaleString('id-ID')}`)
                    break;
                }
            }
        }else if(selectedMenu == 2){
            // Menu-02
            let ascOrDesc = prompt('Sort Type: 1. ASC \n 2. DESC')
            let sortBy = prompt('Sort By: 1. Name \n 2. Price')
            let productsBackup = [...products]
            if(ascOrDesc == 1){ // ASCENDING
                if(sortBy == 1){ // ASCENDING BY NAME
                   productsBackup.sort((a, b) =>  a.name.localeCompare(b.name))
                   
                  alert(ShowResult(productsBackup))
                }else if(sortBy == 2){ // ASCENDING BY PRICE
                    productsBackup.sort((a, b) =>  a.price - b.price)
                   console.log(productsBackup)
                    alert(ShowResult(productsBackup))
                }
            }else if(ascOrDesc == 2){ // DESCENDING
                if(sortBy == 1){ // DESCENDING BY NAME
                    productsBackup.sort((a, b) =>  b.name.localeCompare(a.name))
                   
                    alert(ShowResult(productsBackup))
                }else if(sortBy == 2){ // DESCENDING BY PRICE
                   productsBackup.sort((a, b) =>  b.price - a.price)
                   
                   alert(ShowResult(productsBackup))
                }
            }
        }else if(selectedMenu == 3){
            // Menu-03
            const selectedProduct = Number(prompt(`${ShowResult(products)} Enter Your Product to Update:`)) - 1
            const updateBy = prompt('Update By: 1. Name \n 2. Price')

            if(updateBy == 1){
                const newName = prompt('[NEW] Name')
                products[selectedProduct].name = newName
            }else if(updateBy == 2){
                const newPrice = prompt('[NEW] Price')
                products[selectedProduct].price = newPrice
            }
        }
   }while(selectedMenu < 3)
</script>